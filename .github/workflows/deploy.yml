name: SSH Secrets Sanity Check

on:
  workflow_dispatch:   # manual trigger

jobs:
  ssh-secrets-test:
    runs-on: ubuntu-latest

    steps:
      - name: Check SSH secrets presence
        run: |
          echo "üîç Checking secrets..."

          if [ -z "$VPS_SSH_KEY" ]; then
            echo "‚ùå VPS_SSH_KEY is EMPTY"
          else
            echo "‚úÖ VPS_SSH_KEY is PRESENT"
            echo "Key length: ${#VPS_SSH_KEY}"
          fi

          if [ -z "$VPS_USER" ]; then
            echo "‚ùå VPS_USER is EMPTY"
          else
            echo "‚úÖ VPS_USER is PRESENT"
          fi

          if [ -z "$VPS_HOST" ]; then
            echo "‚ùå VPS_HOST is EMPTY"
          else
            echo "‚úÖ VPS_HOST is PRESENT"
          fi

          if [ -z "$VPS_PORT" ]; then
            echo "‚ùå VPS_PORT is EMPTY"
          else
            echo "‚úÖ VPS_PORT is PRESENT"
          fi
        env:
          VPS_SSH_KEY: ${{ secrets.VPS_SSH_KEY }}
          VPS_USER: ${{ secrets.VPS_USER }}
          VPS_HOST: ${{ secrets.VPS_HOST }}
          VPS_PORT: ${{ secrets.VPS_PORT }}
